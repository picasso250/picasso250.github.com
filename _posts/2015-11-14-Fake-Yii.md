---
title: 模拟Yii
layout: post
---

下面这段代码值1千

    require_once ROOT.'/yii/framework/yii.php';
    set_include_path(get_include_path() . PATH_SEPARATOR . CODE_ROOT.'/components');

    $env = require CONF_ROOT.'/env.php';
    $config = require CONF_ROOT."/$env[env].php";
    $dbc = $config['components']['db'];
    $db = new Xiaochi\DB($dbc['connectionString'], $dbc['username'], $dbc['password']);

    $app = new stdClass();
    $app->db = $db;
    $app->params = $config['params'];
    Yii::setApplication($app);
    Yii::setPathOfAlias('application', CODE_ROOT);
